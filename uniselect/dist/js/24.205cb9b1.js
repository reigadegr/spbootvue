"use strict";(self["webpackChunkuniselect"]=self["webpackChunkuniselect"]||[]).push([[24],{3024:function(e,s,t){t.r(s),t.d(s,{default:function(){return y}});var l=t(3396),o=t(7139);const r={class:"navdiv"},c=(0,l._)("h1",null,"已选课程",-1),a={class:"welcome"},u={key:0},n=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"课程ID"),(0,l._)("th",null,"学生学号"),(0,l._)("th",null,"课程名称"),(0,l._)("th",null,"可选操作")])],-1);function i(e,s,t,i,d,h){const _=(0,l.up)("el-button");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",r,[(0,l.Wm)(_,{type:"primary",onClick:h.goToWelcome},{default:(0,l.w5)((()=>[(0,l.Uk)("回到首页")])),_:1},8,["onClick"]),(0,l.Wm)(_,{type:"primary",onClick:h.goToSelectCourse},{default:(0,l.w5)((()=>[(0,l.Uk)("选课")])),_:1},8,["onClick"]),(0,l.Wm)(_,{type:"primary",onClick:h.goToAlreadySelect},{default:(0,l.w5)((()=>[(0,l.Uk)("已选")])),_:1},8,["onClick"]),(0,l.Wm)(_,{type:"primary",onClick:h.goToNowUserInfo},{default:(0,l.w5)((()=>[(0,l.Uk)("个人信息")])),_:1},8,["onClick"])]),c,(0,l._)("p",a,[(0,l.Uk)(" 您的学号："),(0,l._)("span",null,(0,o.zw)(d.globalstdid),1)]),(0,l.Wm)(_,{type:"warning",onClick:s[0]||(s[0]=e=>h.getAlreadyCoursesId(d.globalstdid))},{default:(0,l.w5)((()=>[(0,l.Uk)("刷新查看我已选的课 ")])),_:1}),d.courses.length>0?((0,l.wg)(),(0,l.iD)("table",u,[n,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.courses,((e,s)=>((0,l.wg)(),(0,l.iD)("tr",{key:s},[(0,l._)("td",null,(0,o.zw)(e.course_id),1),(0,l._)("td",null,(0,o.zw)(e.student_id),1),(0,l._)("td",null,(0,o.zw)(e.course_name),1),(0,l._)("td",null,[(0,l.Wm)(_,{type:"danger",onClick:s=>h.deleteAlreadeSelect(d.globalstdid,e.course_id)},{default:(0,l.w5)((()=>[(0,l.Uk)("退课 ")])),_:2},1032,["onClick"])])])))),128))])])):(0,l.kq)("",!0)],64)}t(560);var d=t(1076),h={name:"alreadyselect",data(){return{courses:[],message:"",globalstdid:""}},mounted(){this.globalstdid=localStorage.getItem("globalstdid")},methods:{async deleteAlreadeSelect(e,s){console.log("全局学生id: ",e),console.log("课程id: ",s);try{const t=await d.Z.post("http://localhost:9090/uniselect/Course_selection_already_select_delete",{student_id:e,course_id:s});this.courses=t.data,this.$message.success("已选课列表已更新")}catch(t){console.error(t),this.$message.error("获取信息失败")}try{const s=await d.Z.post("http://localhost:9090/uniselect/Course_selection_already_select_withid",{student_id:e});this.courses=s.data,this.$message.success("已选课列表已更新")}catch(t){console.error(t),this.$message.error("获取信息失败")}this.$message.success("退课成功")},async getAlreadyCoursesId(e){console.log("全局学生id: ",e);try{const s=await d.Z.post("http://localhost:9090/uniselect/Course_selection_already_select_withid",{student_id:e});this.courses=s.data,this.$message.success("已选课列表已更新")}catch(s){console.error(s),this.$message.error("获取信息失败")}this.$message.success("展示完毕")},async getAlreadyCourses(){await d.Z.get("http://localhost:9090/uniselect/Course_selection_already_select").then((e=>{this.courses=e.data,this.$message.success("已选课列表已更新")})).catch((e=>{console.error(e),this.$message.error("获取信息失败")}))},goToWelcome(){this.$router.push("/welcome")},goToSelectCourse(){this.$router.push("/selectcourse")},goToAlreadySelect(){this.$router.push("/alreadyselect")},goToCourseLayout(){this.$router.push("/courselayout")},goToNowUserInfo(){this.$router.push("/nowuserinf")}}},_=t(89);const g=(0,_.Z)(h,[["render",i]]);var y=g}}]);
//# sourceMappingURL=24.205cb9b1.js.map