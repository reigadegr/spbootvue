"use strict";(self["webpackChunkuniselect"]=self["webpackChunkuniselect"]||[]).push([[898],{1898:function(e,s,t){t.r(s),t.d(s,{default:function(){return p}});var o=t(3396),r=t(7139);const l={class:"navdiv"},c=(0,o._)("h1",null,"欢迎教师对课程增删改查",-1),a={class:"welcome"},u={id:"message"},i={key:0},n=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"课程ID"),(0,o._)("th",null,"课程名称"),(0,o._)("th",null,"主讲教师"),(0,o._)("th",null,"课程描述"),(0,o._)("th",null,"课程余量"),(0,o._)("th",null,"可选操作")])],-1);function h(e,s,t,h,d,m){const g=(0,o.up)("el-button"),w=(0,o.up)("el-input");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",l,[(0,o.Wm)(g,{type:"primary",onClick:m.goToWelcome},{default:(0,o.w5)((()=>[(0,o.Uk)("回到首页")])),_:1},8,["onClick"]),(0,o.Wm)(g,{type:"primary",onClick:m.goToSelectCourse},{default:(0,o.w5)((()=>[(0,o.Uk)("课程管理")])),_:1},8,["onClick"]),(0,o.Wm)(g,{type:"primary",onClick:m.goToAlreadySelect},{default:(0,o.w5)((()=>[(0,o.Uk)("查看学生已选")])),_:1},8,["onClick"]),(0,o.Wm)(g,{type:"primary",onClick:m.goToCourseLayout},{default:(0,o.w5)((()=>[(0,o.Uk)("增加课程")])),_:1},8,["onClick"]),(0,o.Wm)(g,{type:"primary",onClick:m.goToNowUserInfo},{default:(0,o.w5)((()=>[(0,o.Uk)("个人信息")])),_:1},8,["onClick"])]),c,(0,o._)("p",a,[(0,o.Uk)(" 您的账号："),(0,o._)("span",null,(0,r.zw)(d.globalstdid),1)]),(0,o.Wm)(g,{type:"warning",onClick:m.getCourses},{default:(0,o.w5)((()=>[(0,o.Uk)("刷新课程信息")])),_:1},8,["onClick"]),(0,o._)("div",u,(0,r.zw)(d.message),1),(0,o.Wm)(w,{modelValue:d.searchKeyword,"onUpdate:modelValue":s[0]||(s[0]=e=>d.searchKeyword=e),style:{width:"200px"},placeholder:"请输入要搜索课程名的子串"},null,8,["modelValue"]),(0,o.Wm)(g,{type:"primary",onClick:m.searchCourses},{default:(0,o.w5)((()=>[(0,o.Uk)("搜索")])),_:1},8,["onClick"]),d.courses.length>0?((0,o.wg)(),(0,o.iD)("table",i,[n,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(d.courses,((e,s)=>((0,o.wg)(),(0,o.iD)("tr",{key:s},[(0,o._)("td",null,(0,r.zw)(e.id),1),(0,o._)("td",null,(0,r.zw)(e.name),1),(0,o._)("td",null,(0,r.zw)(e.teacher),1),(0,o._)("td",null,(0,r.zw)(e.description),1),(0,o._)("td",null,(0,r.zw)(e.num),1),(0,o._)("td",null,[(0,o.Wm)(g,{type:"danger",onClick:s=>m.deleteCourse(e.id)},{default:(0,o.w5)((()=>[(0,o.Uk)("删课")])),_:2},1032,["onClick"]),(0,o.Wm)(g,{type:"warning",onClick:s=>m.modifyCourse(e.id)},{default:(0,o.w5)((()=>[(0,o.Uk)("修改")])),_:2},1032,["onClick"])])])))),128))])])):(0,o.kq)("",!0)])}t(560);var d=t(1076),m={name:"selectcourse",data(){return{courses:[],message:"",globalstdid:"",searchKeyword:""}},mounted(){this.globalstdid=localStorage.getItem("globalstdid")},methods:{async modifyCourse(e){try{await d.Z.post("http://localhost:9090/uniselect/deletecourse",{id:e})}catch(s){return console.error(s),void this.$message.error("修改课程失败！")}this.$router.push("/courselayoutteacher")},async deleteCourse(e){try{await d.Z.post("http://localhost:9090/uniselect/deletecourse",{id:e})}catch(s){return console.error(s),void this.$message.error("删除课程失败！")}await d.Z.get("http://localhost:9090/uniselect/courses").then((e=>{this.courses=e.data})).catch((e=>{console.error(e),this.$message.error("获取课程信息失败")})),this.$message.success("删除课程成功！")},async searchCourses(){this.$message.info("输入的内容: "+this.searchKeyword),await d.Z.get("http://localhost:9090/uniselect/courses").then((e=>{this.courses=e.data,this.$message.success("课程列表已更新"),this.filterCourses()})).catch((e=>{console.error(e),this.$message.error("获取课程信息失败")}))},filterCourses(){if(this.searchKeyword){const e=this.courses.filter((e=>e.name.includes(this.searchKeyword)));this.courses=e}},async getCourses(){await d.Z.get("http://localhost:9090/uniselect/courses").then((e=>{this.courses=e.data,this.$message.success("课程列表已更新")})).catch((e=>{console.error(e),this.$message.error("获取课程信息失败")}))},goToWelcome(){this.$router.push("/welcometeacher")},goToSelectCourse(){this.$router.push("/selectcourseteacher")},goToAlreadySelect(){this.$router.push("/alreadyselectteacher")},goToCourseLayout(){this.$router.push("/courselayoutteacher")},goToNowUserInfo(){this.$router.push("/nowuserinfteacher")}}},g=t(89);const w=(0,g.Z)(m,[["render",h]]);var p=w}}]);
//# sourceMappingURL=898.1ea3fdc5.js.map